{"remainingRequest":"/home/trongnhan/Documents/vue3-online-shop/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/trongnhan/Documents/vue3-online-shop/src/pages/login/LoginPage.vue?vue&type=style&index=0&id=6fd59704&scoped=true&lang=css","dependencies":[{"path":"/home/trongnhan/Documents/vue3-online-shop/src/pages/login/LoginPage.vue","mtime":1624773220846},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/css-loader/dist/cjs.js","mtime":1624773990759},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1624773992364},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/postcss-loader/src/index.js","mtime":1624773991958},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/cache-loader/dist/cjs.js","mtime":1624773928728},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/vue-loader-v16/dist/index.js","mtime":1624773992364}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbi1mb3JtIHsKICBtYXgtd2lkdGg6IDUwMHB4Owp9CmJ1dHRvbi5kaXNhYmxlZCB7CiAgb3BhY2l0eTogMC43OwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KYnV0dG9uLmRpc2FibGVkOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIyMjIyOwp9Cg=="},{"version":3,"sources":["/home/trongnhan/Documents/vue3-online-shop/src/pages/login/LoginPage.vue"],"names":[],"mappings":";AA0IA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B","file":"/home/trongnhan/Documents/vue3-online-shop/src/pages/login/LoginPage.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <!-- Title Page -->\n    <section\n      class=\"bg-title-page p-t-40 p-b-50 flex-col-c-m\"\n      :style=\"{\n        backgroundImage:\n          'url(' + require('@/assets/images/heading-pages-06.jpg') + ')',\n      }\"\n    >\n      <h2 class=\"l-text2 t-center\">Login</h2>\n    </section>\n\n    <!-- content page -->\n    <section class=\"bgwhite p-t-66 p-b-60\">\n      <div class=\"container\">\n        <div class=\"login-form m-auto\">\n          <Form @submit=\"login\" :validation-schema=\"schema\">\n            <p class=\"m-b-20 text-center text-danger\">\n              {{ loginMessage }}\n            </p>\n\n            <div class=\"bo4 of-hidden size15 m-b-10\">\n              <Field\n                name=\"email\"\n                type=\"text\"\n                placeholder=\"Email\"\n                class=\"sizefull s-text7 p-l-22 p-r-22\"\n                :disabled=\"isLoading\"\n              />\n            </div>\n\n            <ErrorMessage name=\"email\" class=\"text-danger m-b-20 d-block\" />\n\n            <div class=\"bo4 of-hidden size15 m-b-10\">\n              <Field\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"Password\"\n                class=\"sizefull s-text7 p-l-22 p-r-22\"\n                :disabled=\"isLoading\"\n              />\n            </div>\n\n            <ErrorMessage name=\"password\" class=\"text-danger m-b-20 d-block\" />\n\n            <div class=\"w-size25 m-auto\">\n              <button\n                class=\"\n                  flex-c-m\n                  size2\n                  bg1\n                  bo-rad-23\n                  hov1\n                  m-text3\n                  trans-0-4\n                  m-t-20\n                \"\n                :class=\"{ disabled: isLoading }\"\n                :disabled=\"isLoading\"\n              >\n                <span v-show=\"isLoading\" data-loader=\"ball-scale\"></span>\n                Login\n              </button>\n            </div>\n          </Form>\n\n          <br />\n          <hr />\n\n          <p class=\"text-center\">\n            <router-link to=\"/register\"\n              >Don't have an account yet? Register now!\n            </router-link>\n          </p>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"LoginPage\",\n\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n\n  data() {\n    const schema = yup.object().shape({\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\"),\n      password: yup.string().required(\"Password is required!\"),\n    });\n\n    return {\n      isLoading: false,\n      schema,\n    };\n  },\n\n  computed: mapState(\"users\", [\"isLoginSuccess\", \"loginMessage\"]),\n\n  created() {\n    if (this.isLoginSuccess) {\n      this.$router.replace(\"/user\");\n    }\n  },\n\n  methods: {\n    async login(user) {\n      this.isLoading = true;\n\n      await this.$store.dispatch(\"users/login\", {\n        email: user.email,\n        password: user.password,\n      });\n\n      this.isLoading = false;\n\n      if (this.isLoginSuccess) {\n        this.$router.push(\"/user\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login-form {\n  max-width: 500px;\n}\nbutton.disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\nbutton.disabled:hover {\n  background-color: #222222;\n}\n</style>"]}]}