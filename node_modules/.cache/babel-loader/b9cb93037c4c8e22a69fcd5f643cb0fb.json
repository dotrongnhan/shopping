{"remainingRequest":"/home/trongnhan/Documents/vue3-online-shop/node_modules/babel-loader/lib/index.js!/home/trongnhan/Documents/vue3-online-shop/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/trongnhan/Documents/vue3-online-shop/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/trongnhan/Documents/vue3-online-shop/src/pages/register/RegisterPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/trongnhan/Documents/vue3-online-shop/src/pages/register/RegisterPage.vue","mtime":1624773220846},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/cache-loader/dist/cjs.js","mtime":1624773928728},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/babel-loader/lib/index.js","mtime":1624773928639},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/cache-loader/dist/cjs.js","mtime":1624773928728},{"path":"/home/trongnhan/Documents/vue3-online-shop/node_modules/vue-loader-v16/dist/index.js","mtime":1624773992364}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3Ryb25nbmhhbi9Eb2N1bWVudHMvdnVlMy1vbmxpbmUtc2hvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZWdpc3RlclBhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm06IEZvcm0sCiAgICBGaWVsZDogRmllbGQsCiAgICBFcnJvck1lc3NhZ2U6IEVycm9yTWVzc2FnZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBzY2hlbWEgPSB5dXAub2JqZWN0KCkuc2hhcGUoewogICAgICBmaXJzdE5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRmlyc3QgTmFtZSBpcyByZXF1aXJlZCEiKS5taW4oMywgIkZpcnN0IE5hbWUgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMhIikubWF4KDIwLCAiRmlyc3QgTmFtZSBtdXN0IGJlIG1heGltdW0gMjAgY2hhcmFjdGVycyEiKSwKICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRW1haWwgaXMgcmVxdWlyZWQhIikuZW1haWwoIkVtYWlsIGlzIGludmFsaWQhIikubWF4KDUwLCAiRW1haWwgbXVzdCBiZSBtYXhpbXVtIDUwIGNoYXJhY3RlcnMhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpLm1pbig2LCAiUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMhIikubWF4KDQwLCAiUGFzc3dvcmQgbXVzdCBiZSBtYXhpbXVtIDQwIGNoYXJhY3RlcnMhIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IG1hcFN0YXRlKCJ1c2VycyIsIFsiaXNMb2dpblN1Y2Nlc3MiLCAiaXNSZWdpc3RlclN1Y2Nlc3MiLCAicmVnaXN0ZXJNZXNzYWdlIl0pLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5pc0xvZ2luU3VjY2VzcykgewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL3VzZXIiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3Rlcih1c2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXJzL3JlZ2lzdGVyIiwgewogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHVzZXIuZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogdXNlci5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzUmVnaXN0ZXJTdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2UgPSAiUmVnaXN0ZXIgc3VjY2Vzc2Z1bGx5LiI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/trongnhan/Documents/vue3-online-shop/src/pages/register/RegisterPage.vue"],"names":[],"mappings":";;;;AA+GA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,IAAT,EAAe,KAAf,EAAsB,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAK,GAAZ,MAAqB,KAArB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAGb,EAAA,UAAU,EAAE;AACV,IAAA,IAAI,EAAJ,IADU;AAEV,IAAA,KAAK,EAAL,KAFU;AAGV,IAAA,YAAY,EAAZ;AAHU,GAHC;AASb,EAAA,IATa,kBASN;AACL,QAAM,MAAK,GAAI,GAAG,CAAC,MAAJ,GAAa,KAAb,CAAmB;AAChC,MAAA,SAAS,EAAE,GAAE,CACV,MADQ,GAER,QAFQ,CAEC,yBAFD,EAGR,GAHQ,CAGJ,CAHI,EAGD,2CAHC,EAIR,GAJQ,CAIJ,EAJI,EAIA,2CAJA,CADqB;AAMhC,MAAA,KAAK,EAAE,GAAE,CACN,MADI,GAEJ,QAFI,CAEK,oBAFL,EAGJ,KAHI,CAGE,mBAHF,EAIJ,GAJI,CAIA,EAJA,EAII,sCAJJ,CANyB;AAWhC,MAAA,QAAQ,EAAE,GAAE,CACT,MADO,GAEP,QAFO,CAEE,uBAFF,EAGP,GAHO,CAGH,CAHG,EAGA,yCAHA,EAIP,GAJO,CAIH,EAJG,EAIC,yCAJD;AAXsB,KAAnB,CAAf;AAkBA,WAAO;AACL,MAAA,SAAS,EAAE,KADN;AAEL,MAAA,OAAO,EAAE,EAFJ;AAGL,MAAA,MAAM,EAAN;AAHK,KAAP;AAKD,GAjCY;AAmCb,EAAA,QAAQ,EAAE,QAAQ,CAAC,OAAD,EAAU,CAC1B,gBAD0B,EAE1B,mBAF0B,EAG1B,iBAH0B,CAAV,CAnCL;AAyCb,EAAA,OAzCa,qBAyCH;AACR,QAAI,KAAK,cAAT,EAAyB;AACvB,WAAK,OAAL,CAAa,OAAb,CAAqB,OAArB;AACF;AACD,GA7CY;AA+Cb,EAAA,OAAO,EAAE;AACD,IAAA,QADC,oBACQ,IADR,EACc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACnB,gBAAA,KAAI,CAAC,SAAL,GAAiB,IAAjB;AADmB;AAAA,uBAGb,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,gBAArB,EAAuC;AAC3C,kBAAA,SAAS,EAAE,IAAI,CAAC,SAD2B;AAE3C,kBAAA,QAAQ,EAAE,IAAI,CAAC,QAF4B;AAG3C,kBAAA,KAAK,EAAE,IAAI,CAAC,KAH+B;AAI3C,kBAAA,QAAQ,EAAE,IAAI,CAAC;AAJ4B,iBAAvC,CAHa;;AAAA;AAUnB,gBAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;;AAEA,oBAAI,KAAI,CAAC,iBAAT,EAA4B;AAC1B,kBAAA,KAAI,CAAC,OAAL,GAAe,wBAAf;AACF;;AAdmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAepB;AAhBM;AA/CI,CAAf","sourcesContent":["<template>\n  <div>\n    <!-- Title Page -->\n    <section\n      class=\"bg-title-page p-t-40 p-b-50 flex-col-c-m\"\n      :style=\"{\n        backgroundImage:\n          'url(' + require('@/assets/images/heading-pages-06.jpg') + ')',\n      }\"\n    >\n      <h2 class=\"l-text2 t-center\">Register account</h2>\n    </section>\n\n    <!-- content page -->\n    <section class=\"bgwhite p-t-66 p-b-60\">\n      <div class=\"container\">\n        <div class=\"register-form m-auto\">\n          <template v-if=\"!isRegisterSuccess\">\n            <Form @submit=\"register\" :validation-schema=\"schema\">\n              <p class=\"m-b-10 text-center text-danger\">\n                {{ registerMessage }}\n              </p>\n\n              <div class=\"bo4 of-hidden size15 m-b-10\">\n                <Field\n                  name=\"firstName\"\n                  type=\"text\"\n                  placeholder=\"First Name\"\n                  class=\"sizefull s-text7 p-l-22 p-r-22\"\n                  :disabled=\"isLoading\"\n                />\n              </div>\n\n              <ErrorMessage\n                name=\"firstName\"\n                class=\"text-danger m-b-20 d-block\"\n              />\n\n              <div class=\"bo4 of-hidden size15 m-b-10\">\n                <Field\n                  name=\"lastName\"\n                  type=\"text\"\n                  placeholder=\"Last Name\"\n                  class=\"sizefull s-text7 p-l-22 p-r-22\"\n                  :disabled=\"isLoading\"\n                />\n              </div>\n\n              <div class=\"bo4 of-hidden size15 m-b-10\">\n                <Field\n                  name=\"email\"\n                  type=\"text\"\n                  placeholder=\"Email\"\n                  class=\"sizefull s-text7 p-l-22 p-r-22\"\n                  :disabled=\"isLoading\"\n                />\n              </div>\n\n              <ErrorMessage name=\"email\" class=\"text-danger m-b-20 d-block\" />\n\n              <div class=\"bo4 of-hidden size15 m-b-10\">\n                <Field\n                  name=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  class=\"sizefull s-text7 p-l-22 p-r-22\"\n                  :disabled=\"isLoading\"\n                />\n              </div>\n\n              <ErrorMessage\n                name=\"password\"\n                class=\"text-danger m-b-20 d-block\"\n              />\n\n              <div class=\"w-size25 m-auto\">\n                <button\n                  class=\"flex-c-m size2 bg1 bo-rad-23 hov1 m-text3 trans-0-4 m-t-20\"\n                  :class=\"{ disabled: isLoading }\"\n                  :disabled=\"isLoading\"\n                >\n                  <span v-show=\"isLoading\" data-loader=\"ball-scale\"></span>\n                  Register\n                </button>\n              </div>\n            </Form>\n\n            <br />\n            <hr />\n\n            <p class=\"text-center\">\n              <router-link to=\"/login\"\n                >Have an account? Login now!\n              </router-link>\n            </p>\n          </template>\n\n          <template v-else>\n            <p class=\"text-center\">{{ message }}</p>\n\n            <router-link to=\"/login\"\n              ><h4 class=\"text-center\">Go to Login Page Â»</h4></router-link\n            >\n          </template>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"RegisterPage\",\n\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n\n  data() {\n    const schema = yup.object().shape({\n      firstName: yup\n        .string()\n        .required(\"First Name is required!\")\n        .min(3, \"First Name must be at least 3 characters!\")\n        .max(20, \"First Name must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Email must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Password must be at least 6 characters!\")\n        .max(40, \"Password must be maximum 40 characters!\"),\n    });\n\n    return {\n      isLoading: false,\n      message: \"\",\n      schema,\n    };\n  },\n\n  computed: mapState(\"users\", [\n    \"isLoginSuccess\",\n    \"isRegisterSuccess\",\n    \"registerMessage\",\n  ]),\n\n  created() {\n    if (this.isLoginSuccess) {\n      this.$router.replace(\"/user\");\n    }\n  },\n\n  methods: {\n    async register(user) {\n      this.isLoading = true;\n\n      await this.$store.dispatch(\"users/register\", {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        password: user.password,\n      });\n\n      this.isLoading = false;\n\n      if (this.isRegisterSuccess) {\n        this.message = \"Register successfully.\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.register-form {\n  max-width: 500px;\n}\nbutton.disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\nbutton.disabled:hover {\n  background-color: #222222;\n}\n</style>"],"sourceRoot":""}]}